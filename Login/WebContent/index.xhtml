<?xml version="1.0" encoding="US-ASCII" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<!-- <meta http-equiv="refresh" content="30" /> -->
	<title>MMS Index</title>

	<!-- adam.admin@uni-ulm.de - 5qQ0B8kpQT -->
	<!-- robin.redakteur@uni-ulm.de - C6r5a6cDsU -->
	<!-- dennis.dekan@uni-ulm.de - if6IpquxYo -->
	<!-- daniel.dezernat@uni-ulm.de - 70JpvK601e -->
	<!-- markus.modulverantwortlicher@uni-ulm.de - aPdeHN338q -->

	<link rel="stylesheet" href="./css/bootstrap.css" />
	<link rel="stylesheet" href="./css/default.css" />

</h:head>
<!-- body -->
<h:body>
	<div style="height: 120px;">
		<p:graphicImage value="/Image/iui_19.png"
			style="position:absolute; top:20px; right:20px;" />
	</div>
	<h:form id="form">
		<p:tabView id="tabview-login">
			<!-- TabView -->
			<p:tab title="Start" id="tabStart">
				<!-- Begin of first tab // Start -->
				<p:layout
					style="min-width:800px; min-height:600px; max-height:600px;"
					id="gblLayout">
					<!-- Beginn Layout unit // see http://primefaces.org/showcase/ui/layoutFull.jsf -->
					<p:layoutUnit position="west" resizable="true" size="215"
						minSize="215" header="Modulelist" collapsible="true">

						<p:menu id="back-menu" model="#{TemplateBean.backModel}" />
						<p:menu id="list-menu" model="#{TemplateBean.model}" />

					</p:layoutUnit>

					<p:layoutUnit position="center" id="content" header="Modulemanual">
						<p:scrollPanel id="scrollPanel" mode="native"
							style="min-width:400px; min-height:470px;">
							<p:panel id="pnlTitle" header="#{TemplateBean.title}"
								toggleable="true" toggleSpeed="500"
								visible="#{TemplateBean.mainVisible}">
	
								#{TemplateBean.description}
							
							</p:panel>
							<p:panel id="pnlEcts" header="Leistungspunkte und Lernziele"
								toggleable="true" toggleSpeed="500"
								visible="#{TemplateBean.ectsAimVisible}">

								<strong>leistungspunkte:</strong> #{TemplateBean.ects}<br />
								<br />
								<strong>Lernziele:</strong> #{TemplateBean.aim}
	
							</p:panel>
							<p:panel id="pnlDescription" header="Zusaetzliche Informationen"
								toggleable="true" toggleSpeed="500"
								visible="#{TemplateBean.addInfoVisible}">

								<ui:repeat var="iterator" value="#{TemplateBean.fieldList}">
									<strong>Titel: </strong>#{iterator.fieldTitle}<br />
									<strong>Beschreibung: </strong>#{iterator.description}<br />
									<br />
								</ui:repeat>
							</p:panel>
						</p:scrollPanel>
					</p:layoutUnit>

					<p:layoutUnit position="south" resizable="false">
						<div align="center">
							<p:commandButton type="push" value="Drucken" title="Drucken"
								icon="ui-icon-print">
							</p:commandButton>
							<p:commandButton type="push" value="Download" title="Download"
								icon="ui-icon-disk">
							</p:commandButton>
						</div>
					</p:layoutUnit>
				</p:layout>
			</p:tab>
			<!-- End first tab // Start -->
			<p:tab title="Login" align="right">
				<h:form id="login_frame">
					<table width="250" border="0" cellpadding="2" align="center">
						<tr>
							<td colspan="2"><h2>MMSLogin</h2></td>
						</tr>
						<tr>
							<!-- required erzeugt die errorMSG die unten angezeigt wird, falls das Feld leer ist -->
							<td><h:outputText value="email: " /> <h:inputText
									id="email" value="#{LoginBean.email}" /></td>
							<td><h:outputText value="Password:  " /> <h:inputSecret
									id="password" value="#{LoginBean.password}" /></td>
						</tr>
						<tr>
							<td colspan="2" align="right"><p:commandButton
									action="#{LoginBean.checkSuccess}" value="Login" type="submit" />
								<p:commandButton id="resetpw" value="forgot password"
									onclick="confirmation.show();return false;">
								</p:commandButton></td>
						</tr>
					</table>
					<p:messages id="login-messages" showDetail="true" autoUpdate="true"
						for="login" />
					<h:outputText value="#{LoginBean.msg}" />
				</h:form>
			</p:tab>
		</p:tabView>
	</h:form>
	<h:form>
		<p:confirmDialog id="confirmDialog"
			message="Are you sure about resetting your password?"
			header="Reset Password" severity="alert" widgetVar="confirmation">

			<p:commandButton id="decline" value="decline"
				onclick="confirmation.hide()" type="button" />
			<p:commandButton id="confirm" value="reset"
				update=":form:tabview-login:login_frame:login-messages"
				oncomplete="confirmation.hide()" action="#{LoginBean.resetUserPass}" />

		</p:confirmDialog>
	</h:form>
</h:body>
</html>