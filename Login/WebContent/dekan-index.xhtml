<?xml version="1.0" encoding="US-ASCII" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>

	<title>Dekan Index</title>

	<link rel="stylesheet" href="./css/bootstrap.css" />
	<link rel="stylesheet" href="./css/default.css" /> 

</h:head>
<!-- body -->
<h:body>
	<div style="height: 120px;">
		<p:graphicImage value="/Image/iui_19.png"
			style="position:absolute; top:20px; right:20px;" />
	</div>
	<p:tabView id="outer-tabview">
		<p:ajax event="tabChange" listener="#{DekanBean.onTabChange}" update=":outer-tabview:tabview-exRules:exRules-create-frame"/> 

		<p:tab title="Module manual">
			<p:tabView id="tabview-modManual">
				<!-- TabView -->
				<p:tab title="Create">
					<!-- Begin of first tab // Start -->
					<p:layout style="min-width:400px;min-height:500px;"
						id="dekan-layout">
						<p:layoutUnit position="center">
							<h:form id="dekan-frame">
								<h2>Create module manual</h2>
								<table width="250" border="0" cellpadding="2">
									<tr>
										<!-- ModManual(String modManTitle, String description, String exRulesTitle, Date deadline) -->
										<td><h:outputText value="module manual title: " /> <h:inputText
												id="modManTitle" value="#{DekanBean.modManTitle}"
												styleClass="input_text" /></td>
									</tr>
									<tr>
										<td><h:outputText value="description:  " /> <h:inputText
												id="description" value="#{DekanBean.description}"
												styleClass="input_text" /></td>
									</tr>
									<tr>
										<td><h:outputText value="examination rules: " /> <p:selectOneMenu style="width:220px"
												value="#{DekanBean.exRules}" >
												<f:selectItem itemLabel="examination rules" itemValue="" />
												<f:selectItems value="#{DekanBean.exRulesList}" var="exRule" itemLabel="#{exRule.exRulesTitle}" itemValue="#{exRule.exRulesTitle}"/>
											</p:selectOneMenu></td>
									</tr>
									<tr>
										<td><h:outputText value="deadline: " /> <p:calendar
												value="#{DekanBean.deadline}" id="popupCal1" /></td>
									</tr>
									<tr>
										<td colspan="2" align="left"><p:commandButton
												icon="ui-icon-trash" value="reset fields"
												update=":outer-tabview:tabview-modManual:dekan-frame"
												action="#{DekanBean.resetFields}" /> <p:commandButton
												icon="ui-icon-plusthick"
												actionListener="#{DekanBean.saveModManual}" value="create" 
												update=":outer-tabview:tabview-modManual:dekan-delete-frame:modManuals, 
												:outer-tabview:tabview-modManual:dekan-edit-frame:modManuals" /></td>
									</tr>
								</table>
								<p:messages id="dekan-messages" for="dekan-messages"
									showDetail="true" autoUpdate="true" closable="true" />
							</h:form>
						</p:layoutUnit>
					</p:layout>
				</p:tab>

				<p:tab title="Edit">
					<p:layout style="min-width:400px;min-height:500px;"
						id="edit-layout">

						<p:layoutUnit position="center">
							<h:form id="dekan-edit-frame">
								<h2>Edit module manual</h2>
								<table class="admin-edit-t" width="250" border="0"
									cellpadding="2">
									<tr>
										<td><h:outputText value="Examination rules  " /> <p:selectOneMenu style="width:220px"
												value="#{DekanBean.exRules}">
												<f:selectItem itemLabel="All examination rules"
													itemValue="" />
												<f:selectItems value="#{DekanBean.exRulesList}" var="exRule" itemLabel="#{exRule.exRulesTitle}" itemValue="#{exRule.exRulesTitle}"/>
											</p:selectOneMenu></td>
									</tr>
									<tr>
										<td><p:commandButton
												actionListener="#{DekanBean.actualizeModManualList}"
												value="find"
												update=":outer-tabview:tabview-modManual:dekan-edit-frame:modManuals" /></td>
									</tr>
								</table>
								<br />
								<p:dataTable id="modManuals" var="modManual"
									value="#{DekanBean.modManualList}" style="max-width:1024px"
									scrollable="true" scrollHeight="300" editable="true">

									<p:ajax event="rowEdit" listener="#{DekanBean.onEdit}"
										update=":outer-tabview:tabview-modManual:dekan-edit-frame:modManuals, 
										:outer-tabview:tabview-modManual:dekan-delete-frame:modManuals" />

									<p:ajax event="rowEditCancel" listener="#{DekanBean.onCancel}"
										update=":outer-tabview:tabview-modManual:dekan-edit-frame:modManuals, 
										:outer-tabview:tabview-modManual:dekan-delete-frame:modManuals" />

									<p:column headerText="Title" footerText="" style="width:25%">
										<h:outputText value="#{modManual.modManTitle}" />
									</p:column>

									<p:column headerText="Description" footerText=""
										style="width:40%">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{modManual.description}" />
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{modManual.description}"
													style="width:100%" />
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Examination rules" footerText=""
										style="width:18%">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{modManual.exRulesTitle}" />
											</f:facet>
											<f:facet name="input">
												<h:selectOneMenu value="#{modManual.exRulesTitle}">
													<f:selectItems value="#{DekanBean.exRulesList}" var="exRule" itemLabel="#{exRule.exRulesTitle}" itemValue="#{exRule.exRulesTitle}"/>
												</h:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Deadline" footerText="" style="width:13%">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{modManual.deadline}" />
											</f:facet>
											<f:facet name="input">
												<p:calendar value="#{modManual.deadline}" id="popupCal2" />
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column style="width:4%">
										<p:rowEditor />
									</p:column>
								</p:dataTable>
								<p:messages id="edit-messages" showDetail="true"
									autoUpdate="true" for="edit-messages" />
							</h:form>
						</p:layoutUnit>
					</p:layout>
				</p:tab>
				
				<p:tab title="Delete">
					<p:layout style="min-width:400px;min-height:500px;"
						id="delete-layout">

						<p:layoutUnit position="center">
							<h:form id="dekan-delete-frame">
								<h2>Delete module manual</h2>
								<table class="admin-edit-t" width="250" border="0"
									cellpadding="2">
									<tr>
										<td><h:outputText value="Examination rules  " /> <p:selectOneMenu
												value="#{DekanBean.exRules}">
												<f:selectItem itemLabel="All examination rules"
													itemValue="" />
												<f:selectItems value="#{DekanBean.exRulesList}" var="exRule" itemLabel="#{exRule.exRulesTitle}" itemValue="#{exRule.exRulesTitle}"/>
											</p:selectOneMenu></td>
									</tr>
									<tr>
										<td><p:commandButton
												actionListener="#{DekanBean.actualizeModManualList}"
												value="find"
												update=":outer-tabview:tabview-modManual:dekan-delete-frame:modManuals" /></td>
									</tr>
								</table>
								<br />
								<p:dataTable id="modManuals" var="modManual"
									value="#{DekanBean.modManualList}" style="max-width:1024px"
									scrollable="true" scrollHeight="300" editable="true">
											
									<p:column headerText="Title" footerText="" style="width:25%">
										<h:outputText value="#{modManual.modManTitle}" />
									</p:column>

									<p:column headerText="Description" footerText=""
										style="width:40%">
										<h:outputText value="#{modManual.description}" />
									</p:column>

									<p:column headerText="Examination rules" footerText=""
										style="width:18%">										
										<h:outputText value="#{modManual.exRulesTitle}" />											
									</p:column>

									<p:column headerText="Deadline" footerText="" style="width:13%">											
										<h:outputText value="#{modManual.deadline}" />
									</p:column>

									<p:column style="width:4%" footerText="">
										<p:commandButton icon="ui-icon-trash"
											oncomplete="dlg.show();"
											update=":outer-tabview:tabview-modManual:dekan-delete-frame:modManuals,
											:outer-tabview:tabview-modManual:dekan-edit-frame:modManuals">
											<f:setPropertyActionListener value="#{modManual}"
												target="#{DekanBean.currentMM}" />
										</p:commandButton>

									</p:column>
								</p:dataTable>
								<p:messages id="edit-messages" showDetail="true"
									autoUpdate="true" for="edit-messages" />
							</h:form>
						</p:layoutUnit>
						<p:confirmDialog widgetVar="dlg" id="deleteDialog"
							header="Delete" message="Delete this ?" width="400"
							modal="true" closable="false" severity="alert">
							<h:panelGroup layout="block" style="text-align: right">
							<p:commandButton value="Yes" action="#{DekanBean.deleteModManual}"
								oncomplete="dlg.hide();"
								update=":outer-tabview:tabview-modManual:dekan-delete-frame:modManuals,
								:outer-tabview:tabview-modManual:dekan-edit-frame:modManuals" />
							<p:commandButton value="No" oncomplete="dlg.hide();" />
							</h:panelGroup>
						</p:confirmDialog>
					</p:layout>
				</p:tab>

			</p:tabView>
			<!-- End TabView -->
		</p:tab>

		<p:tab title="Examination Rules">		
			<p:tabView id="tabview-exRules">
			
				
				
				<p:tab title="Create">
					<!-- Begin of first tab // Start -->
					<p:layout style="min-width:400px;min-height:500px;"
						id="exRules-create-layout">
						<p:layoutUnit position="center">
							<h:form id="exRules-create-frame">
							<h2>Create examination rules</h2>
								<table width="250" border="0" cellpadding="2">																	
									<tr>
										<!-- ExRules(String exRulesTitle) -->
										<td><h:outputText value="examination rules title: " /> <h:inputText
												id="exRules" value="#{DekanBean.exRules}"
												styleClass="input_text" /></td>
									</tr>
									<tr>
										<td colspan="2" align="left"><p:commandButton
												icon="ui-icon-trash" value="reset field"
												update=":outer-tabview:tabview-exRules:exRules-create-frame"
												action="#{DekanBean.resetField}" /> <p:commandButton
												icon="ui-icon-plusthick"
												actionListener="#{DekanBean.saveExRules}" value="create" 
												update=":outer-tabview:tabview-exRules:exRules-delete-frame,  
												:outer-tabview:tabview-modManual:dekan-frame,  
												:outer-tabview:tabview-modManual:dekan-edit-frame,  
												:outer-tabview:tabview-modManual:dekan-delete-frame"
												action="#{DekanBean.actualizeExRulesList}"/></td>
									</tr>
								</table>
								<p:messages id="dekan-messages" for="dekan-messages"
									showDetail="true" autoUpdate="true" closable="true" />
							</h:form>
						</p:layoutUnit>
					</p:layout>
				</p:tab>

				<p:tab title="Delete">
					<!-- Begin of first tab // Start -->
					<p:layout style="min-width:400px;min-height:500px;"
						id="exRules-delete-layout">
						<p:layoutUnit position="center">
							<h:form id="exRules-delete-frame">
								<h2>Delete examination rules</h2>
								<table class="admin-delete-t" width="250" border="0"
									cellpadding="2">
									<tr>
										<td><h:outputText value="Examination rules title" /> 
											<p:selectOneMenu
												value="#{DekanBean.exRules}">
												<f:selectItem itemLabel="All examination rules"
													itemValue="" />
												<f:selectItems value="#{DekanBean.exRulesSearchList}" var="exRuleSearch" itemLabel="#{exRuleSearch.exRulesTitle}" itemValue="#{exRuleSearch.exRulesTitle}"/>
											</p:selectOneMenu></td>
									</tr>
									<tr>
										<td><p:commandButton
												actionListener="#{DekanBean.actualizeExRulesList}" value="find"
												update=":outer-tabview:tabview-exRules:exRules-delete-frame" /></td>
									</tr>
								</table>
								<br />
								<p:dataTable id="exRules" var="exRules"
									value="#{DekanBean.exRulesList}" style="max-width:1024px"
									scrollable="true" scrollHeight="250">
									<p:column headerText="Examination rules title" footerText="" style="width:96%">
										<h:outputText value="#{exRules.exRulesTitle}" />
									</p:column>
									<p:column style="width:4%" footerText="">
										<p:commandButton icon="ui-icon-trash"
											oncomplete="deleteDlg.show();"
											update=":outer-tabview:tabview-exRules:exRules-delete-frame">
											<f:setPropertyActionListener value="#{exRules}"
												target="#{DekanBean.currentER}" />
										</p:commandButton>

									</p:column>
								</p:dataTable>
							</h:form>
						</p:layoutUnit>
						<p:confirmDialog widgetVar="deleteDlg" id="deleteDialog"
							header="Delete" message="Delete this ?" width="400"
							modal="true" closable="false" severity="alert">
							<h:panelGroup layout="block" style="text-align: right">
							<p:commandButton value="Yes" action="#{DekanBean.deleteExRules}"
								oncomplete="deleteDlg.hide();"
								update=":outer-tabview:tabview-exRules:exRules-delete-frame,  
										:outer-tabview:tabview-modManual:dekan-frame,  
										:outer-tabview:tabview-modManual:dekan-edit-frame,  
										:outer-tabview:tabview-modManual:dekan-delete-frame" />
							<p:commandButton value="No" oncomplete="deleteDlg.hide();" />
							</h:panelGroup>
						</p:confirmDialog>
					</p:layout>
				</p:tab>
			</p:tabView>
		</p:tab>
		
		<p:tab title="Logout">
			<table width="350" border="0" cellpadding="2">
				<tr>
					<td><h3>Wirklich ausloggen?</h3></td>
					<td><p:commandButton value="OK" type="submit"
							actionListener="#{LoginBean.logout}" /></td>
				</tr>
			</table>
		</p:tab>

	</p:tabView>
</h:body>
</html>