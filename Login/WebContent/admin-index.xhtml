<?xml version="1.0" encoding="US-ASCII" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
	<title>Admin Panel</title>

	<link rel="stylesheet" href="./css/default.css" />

</h:head>

<h:body>
	<!-- body -->
	<div style="height: 120px;">
		<p:graphicImage value="/Image/iui_19.png"/>
		<p:graphicImage
			style="float: left !important; margin-left: 1.6em !important; margin-top: -0.7em !important; max-height: 110px; margin-top: 0px !important;"
			value="/Image/MyBestLogo.png" />
	</div>

	<p:tabView id="tabview-admin">
	<p:tab title="Startseite" >
			<p:layout style="min-width:800px; min-height:600px; max-height:600px;"
					id="welcome">
			<p:layoutUnit position="center" resizable="true" size="215"
						minSize="215" header="Willkommen auf der Hilfeseite" collapsible="false">
						<!-- moegliche Funktionen jeden Users -->
						<h2>M&ouml;gliche Funktionen</h2>
						<ul>
							<li>Als Administrator ist es ihnen m&ouml;glich Benutzer zu erstellen, zu l&ouml;schen und zu editieren</li>
							<li>Den Benutzer erstellen Tab nutzen
								<ul>
									<li>Benutzer erstellen</li>
								</ul>
							</li>
							<li>Benutzer l&ouml;schen Tab nutzen
								<ul>
									<li>Benutzer nach Rollen filtern</li>
									<li>Benutzer l&ouml;schen</li>
								</ul>
							</li>
							<li>Benutzer editieren Tab nutzen
								<ul>
									<li>Benutzer nach Rollen filtern</li>
									<li>Benutzer editieren (Name, Vorname und Rolle)</li>
								</ul>
							</li>
						</ul>
						
						<!-- funktion Benutzer erstellen -->
						<ul>
						
							<h4> Funktion Benutzer erstellen</h4>
							
							<li><strong> Benutzer erstellen</strong></li>
							<p>Der "Benutzer erstellen"-Tab ist Ihre Startseite. Hier k&ouml;nnen Sie neue Benutzer erstellen/anlegen.</p>
							<p>Dazu geben Sie in die entsprechenden Felder den Nachnamen, Vornamen, Email ein und w&auml;hlen die Rolle aus.</p>
							<p>Auswa&auml;hlbar sind die Rollen: Administrator, Modulverantwortlicher, Dezernat, Redakteur und Dekan.</p>
							<p>Wenn Sie alle Felder ausgef&uuml;llt haben, klicken Sie auf den Button "create" um den Benutzer zu erstellen</p>
							<p>Um die Felder zu leeren klicken Sie auf den Button "Felder zur&uuml;cksetzen".</p>
						</ul>

						<!-- funktion Benutzer L&ouml;schen -->
						<ul>
						
							<h4> Funktion Benutzer L&ouml;schen</h4>
							
							<li><strong> Benutzer L&ouml;schen</strong></li>
							<p>Hier sehen Sie nun eine Tabelle, welche Benutzer aller Rollen anzeigt.</p>
							<p>Um eine Ansicht von einer bestimmten Benutzer-Gruppe zu erhalten, klicken Sie auf das Drop-Down-Men&uuml;.</p>
							<p>Dort k&ouml;nnen Sie eine Rolle ausw&auml;hlen und anschliessend auf den Button "find" klicken.</p>
							<p>Um einen Benutzer zu l&ouml;schen, klicken Sie in der Zeile des entsprechenden Benutzers auf den Button mit dem M&uuml;lleimer.</p>
							<p>Daraufhin &ouml;ffnet sich ein Pop-Up Fenster als Sicherheitsabfrage. Klicken Sie dann auf "L&ouml;schen" wird der Benutzer gel&ouml;scht, klicken Sie auf "Abbruch" wird abgebrochen.</p>
						</ul>
						
						<!-- funktion Benutzer editieren -->
						<ul>
						
							<h4> Funktion Benutzer editieren</h4>
							
							<li><strong> Benutzer editieren</strong></li>
							<p>Um einen Benutzer zu editieren, klicken Sie auf den "Benutzer editieren"-Tab.</p>
							<p>Hier sehen Sie nun eine Tabelle, welche Benutzer aller Rollen anzeigt.</p>
							<p>Um eine Ansicht von einer bestimmten Benutzer-Gruppe zu erhalten, klicken Sie auf das Drop-Down-Men&uuml;.</p>
							<p>Dort k&ouml;nnen Sie eine Rolle ausw&auml;hlen und anschliessend auf den Button "find" klicken.</p>
							<p>Um einen Benutzer zu editieren, klicken Sie in der Zeile des entsprechenden Benutzers auf den Button mit dem Stift.</p>
							<p>Es kann der Name, Vorname und die Rolle des Benutzers ge&auml;ndert werden. Dazu klicken Sie einfach in das jeweilige Feld.</p>
							<p>Um diese &Auml;nderungen zu speichern klicken sie auf den Hacken, um abzubrechen klicken Sie auf das x</p>
						</ul>
						
						<!-- funktion Logout -->
						<ul>
						
							<h4> Funktion Logout</h4>
							
							<li><strong> Abmeldung</strong></li>
							<p> W&auml;hlen Sie den Tab Logout.</p>
							<p> Best&auml;tigen Sie mit dem OK-Button</p>
							<p>Sie werden ausgeloggt </p>
						</ul>					
						
					</p:layoutUnit>
			</p:layout>
		</p:tab> 
		<!-- TabView -->
		<p:tab title="Benutzer erstellen">
			<!--  Begin of first tab // Start -->
			<p:layout style="min-width:800px;min-height:500px; max-height:500px;"
				id="create-layout">
				<p:layoutUnit position="center" header="Adminpanel">
					<h:form id="create-frame">
						<table class="admin-create-t" width="250" border="0"
							cellpadding="2">
							<tr>
								<td colspan="2"><h2>Benutzer erstellen</h2></td>
							</tr>
							<tr>
								<td><h:outputText value="Nachname: " /> <h:inputText id="name"
										value="#{AdminBean.name}" styleClass="input_text" /></td>
							</tr>
							<tr>
								<td><h:outputText value="Vorname:  " /> <h:inputText
										id="firstname" value="#{AdminBean.firstname}"
										styleClass="input_text" /></td>
							</tr>
							<tr>
								<td><h:outputText value="Email: " /> <h:inputText
										id="email" value="#{AdminBean.email}" styleClass="input_text" /></td>
							</tr>
							<tr>
								<td><h:outputText value="Rolle:  " /> <p:selectOneMenu
										value="#{AdminBean.role}">
										<f:selectItem itemLabel="Auswahl:" itemValue="-1" />
										<f:selectItem itemLabel="Administrator" itemValue="1" />
										<f:selectItem itemLabel="Modulverantwortlicher" itemValue="2" />
										<f:selectItem itemLabel="Dezernat" itemValue="3" />
										<f:selectItem itemLabel="Redakteur" itemValue="4" />
										<f:selectItem itemLabel="Dekan" itemValue="5" />
									</p:selectOneMenu></td>
							</tr>
							<tr>
								<td colspan="2" align="right"><p:commandButton
										icon="ui-icon-trash" value="Felder zur&uuml;cksetzen"
										update=":tabview-admin:create-frame"
										action="#{AdminBean.resetForm}" /> <p:commandButton
										icon="ui-icon-plusthick"
										update=":tabview-admin:delete-frame:users,:tabview-admin:edit-frame"
										actionListener="#{AdminBean.saveUser}" value="create" /></td>
							</tr>
						</table>
						<p:messages id="create-messages" for="create-messages"
							showDetail="true" autoUpdate="true" closable="true" />
					</h:form>
				</p:layoutUnit>
			</p:layout>
		</p:tab>
		<!-- End first tab // Start Delete - http://primefaces.org/showcase/ui/datatableRowSelectionRadioCheckbox.jsf as alternative for the single selection now -->
		<p:tab title="Benutzer l&ouml;schen" id="tab-delete">
			<p:layout
				style="min-width:800px; min-height:500px; max-height:500px;"
				id="delete-layout">
				<p:layoutUnit position="center" header="Adminpanel">
					<h:form id="delete-frame">
						<table class="admin-delete-t" width="250" border="0"
							cellpadding="2">
							<tr>
								<td><h:outputText value="Benutzerrolle " /> <p:selectOneMenu
										value="#{AdminBean.role}">
										<f:selectItem itemLabel="Alle Rollen" itemValue="-1" />
										<f:selectItem itemLabel="Administrator" itemValue="1" />
										<f:selectItem itemLabel="Modulverantwortlicher" itemValue="2" />
										<f:selectItem itemLabel="Dezernat" itemValue="3" />
										<f:selectItem itemLabel="Redakteur" itemValue="4" />
										<f:selectItem itemLabel="Dekan" itemValue="5" />
									</p:selectOneMenu></td>
							</tr>
							<tr>
								<td><p:commandButton
										actionListener="#{AdminBean.findUser}" value="find"
										update=":tabview-admin:delete-frame:users,:tabview-admin:edit-frame" /></td>
							</tr>
						</table>
						<br />
						<br />

						<p:dataTable id="users" var="user" value="#{AdminBean.userList}"
							style="max-width:1024px" scrollable="true" scrollHeight="250">
							<p:column headerText="Name" footerText="" style="width:24%">
								<h:outputText value="#{user.name}" />
							</p:column>
							<p:column headerText="Vorname" footerText="" style="width:24%">
								<h:outputText value="#{user.firstname}" />
							</p:column>
							<p:column headerText="Email" footerText="" style="width:24%">
								<h:outputText value="#{user.email}" />
							</p:column>
							<p:column headerText="Rolle" footerText="" style="width:24%">
								<h:outputText value="#{user.role}" />
							</p:column>
							<p:column style="width:40px" footerText="">
								<p:commandButton icon="ui-icon-trash"
									oncomplete="deleteDlg.show();"
									update=":tabview-admin:delete-frame:users,:tabview-admin:edit-frame:users">
									<f:setPropertyActionListener value="#{user}"
										target="#{AdminBean.selectedUser}" />
								</p:commandButton>

							</p:column>
						</p:dataTable>
					</h:form>

				</p:layoutUnit>
				<p:confirmDialog widgetVar="deleteDlg" id="deleteDialog"
					header="Diesen Benutzer l&ouml;schen?" message="L&ouml;schen des Benutzers entfernt gleichzeitig alle Notifikationen von und f&uuml;r ihn und seine Zugriffsrechte." width="400" modal="true"
					closable="false" severity="alert">
					<h:panelGroup layout="block" style="text-align: right">
						<p:commandButton value="L&ouml;schen" actionListener="#{AdminBean.deleteUser}"
							oncomplete="deleteDlg.hide();"
							update=":tabview-admin:delete-frame:users" />
						<p:commandButton value="Abbruch" oncomplete="deleteDlg.hide();" />
					</h:panelGroup>
				</p:confirmDialog>
			</p:layout>
		</p:tab>
		<p:tab title="Benutzer Editieren">
			<p:layout
				style="min-width:800px; min-height:500px; max-height:500px;"
				id="edit-layout">

				<p:layoutUnit position="center" header="Adminpanel">
					<h:form id="edit-frame">
						<table class="admin-edit-t" width="250" border="0" cellpadding="2">
							<tr>
								<td><h:outputText value="User role  " /> <p:selectOneMenu
										value="#{AdminBean.role}">
										<f:selectItem itemLabel="Alle Rollen" itemValue="-1" />
										<f:selectItem itemLabel="Administrator" itemValue="1" />
										<f:selectItem itemLabel="Modulverantwortlicher" itemValue="2" />
										<f:selectItem itemLabel="Dezernat" itemValue="3" />
										<f:selectItem itemLabel="Redakteur" itemValue="4" />
										<f:selectItem itemLabel="Dekan" itemValue="5" />
									</p:selectOneMenu></td>
							</tr>
							<tr>
								<td><p:commandButton
										actionListener="#{AdminBean.findUser}" value="find"
										update=":tabview-admin:delete-frame,:tabview-admin:edit-frame:users" /></td>
							</tr>
						</table>
						<br />
						<p:dataTable id="users" var="user" value="#{AdminBean.userList}"
							style="max-width:1024px" scrollable="true" scrollHeight="250"
							editable="true">
							<!--  if emails should be updated to - do something in the listener method specified below  -->
							<!-- <p:ajax event="rowEditInit"
									listener="#{ModuleExecutiveBean.testInit}"
									update=":form:messages" /> -->

							<p:ajax event="rowEdit" listener="#{AdminBean.onEdit}"
								update=":tabview-admin:edit-frame:users,:tabview-admin:delete-frame" />

							<p:ajax event="rowEditCancel" listener="#{AdminBean.onCancel}"
								update=":tabview-admin:edit-frame:users,:tabview-admin:delete-frame" />

							<p:column headerText="Name" footerText="" style="width:24%">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{user.name}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{user.name}" style="width:100%" />
									</f:facet>
								</p:cellEditor>
							</p:column>

							<p:column headerText="Vorname" footerText="" style="width:24%">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{user.firstname}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{user.firstname}" style="width:100%" />
									</f:facet>
								</p:cellEditor>
							</p:column>

							<p:column headerText="Email" footerText="" style="width:24%">
								<h:outputText value="#{user.email}" />
							</p:column>

							<p:column headerText="Rolle" footerText="" style="width:24%">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{user.role}" />
									</f:facet>
									<f:facet name="input">
										<h:selectOneMenu value="#{user.role}">
											<f:selectItem itemLabel="Administrator"
												itemValue="Administrator" />
											<f:selectItem itemLabel="Modulverantwortlicher"
												itemValue="Modulverantwortlicher" />
											<f:selectItem itemLabel="Dezernat" itemValue="Dezernat" />
											<f:selectItem itemLabel="Dekan" itemValue="Dekan" />
											<f:selectItem itemLabel="Redakteur" itemValue="Redakteur" />
										</h:selectOneMenu>
									</f:facet>
								</p:cellEditor>
							</p:column>

							<p:column style="width:6%">
								<p:rowEditor />
							</p:column>
						</p:dataTable>
						<p:messages id="edit-messages" showDetail="true" autoUpdate="true"
							for="edit-messages" />
					</h:form>
				</p:layoutUnit>
			</p:layout>

		</p:tab>

		<p:tab title="Pro">
			<p:terminal commandHandler="#{AdminBean.handleCommand}" height="300px"  
            welcomeMessage="Welcome to the Pro-Tool for Admins. Type help for gettin' started!" />
		</p:tab>

		<p:tab title="Logout">
			<table width="350" border="0" cellpadding="2">
				<tr>
					<td><h3>Wirklich ausloggen?</h3></td>
					<td><p:commandButton value="OK" type="submit"
							actionListener="#{LoginBean.logout}" /></td>
				</tr>
			</table>
		</p:tab>

	</p:tabView>

	<!-- End TabView -->
</h:body>
<!-- End body -->

</html>